<odoo>
    <!-- PÃ¡gina principal del Agente Multibanco B&L -->
    <template id="agente_bl_page"
              name="Agente Multibanco B&amp;L"
              inherit_id="website.layout">

        <!-- Reemplazamos el <main> del layout del website -->
        <xpath expr="//main" position="replace">
            <main id="agente-multibanco-bl" class="o_container">

                <!-- TÃ­tulo de la pestaÃ±a -->
                <t t-set="title">Agente Multibanco B&amp;L</t>

                <!-- ===========================
                     LOGIN
                     =========================== -->
                <section id="loginView" class="view center">
                    <div class="card login">
                        <h1 class="brand">Agente B&amp;L</h1>
                        <p class="muted">Acceso exclusivo del personal autorizado</p>

                        <form id="loginForm" autocomplete="on">
                            <label>Usuario
                                <input type="text" id="lgUser" placeholder="ManuelBL" required="required"/>
                            </label>

                            <label>ContraseÃ±a
                                <input type="password" id="lgPass" placeholder="12345678" required="required"/>
                            </label>

                            <div class="row remember">
                              <label class="check">
                                <input type="checkbox" id="rememberUser" />
                                <span class="check-text">
                                  Recordar<br/>usuario
                                </span>
                              </label>

                              <label class="check">
                                <input type="checkbox" id="rememberPass" />
                                <span class="check-text">
                                  Recordar<br/>contraseÃ±a
                                </span>
                              </label>
                            </div>


                            <button class="btn primary" type="submit">Iniciar sesiÃ³n</button>
                        </form>
                    </div>
                </section>

                <!-- ===========================
                     APLICACIÃ“N
                     =========================== -->
                <section id="appView" class="view hidden">

                    <!-- Topbar -->
                    <header class="topbar">
                        <div class="left">
                            <span class="logo">B&amp;L</span>
                            <span class="title">Panel de Agente Multibanco</span>
                        </div>
                        <div class="right">
                            <button id="btnAgent" class="chip active">Mi agente</button>
                            <button id="btnReceipts" class="chip">Mis recibos</button>
                            <div class="divider"></div>
                            <button id="btnLogout" class="chip warn">Salir</button>
                        </div>
                    </header>

                    <!-- MI AGENTE -->
                    <main id="agentView">
                        <div class="card op-card">
                            <h2>OperaciÃ³n</h2>

                            <!-- DOS COLUMNAS -->
                            <div class="grid two">

                                <!-- IZQUIERDA -->
                                <div class="col-left">

                                    <label for="bank">Banco / Red</label>
                                    <select id="bank" required="required">
                                        <option value="">â€” Seleccione â€”</option>
                                        <option>BCP</option>
                                        <option>INTERBANK</option>
                                        <option>BBVA</option>
                                        <option>SCOTIABANK</option>
                                        <option>CAJA AREQUIPA</option>
                                        <option>CAJA CUSCO</option>
                                        <option>BANCO DE LA NACION</option>
                                        <option>YAPE</option>
                                        <option>PLIN</option>
                                        <option>BIM</option>
                                        <option>KASNET</option>
                                        <option>PAGAYA</option>
                                        <option>BITEL</option>
                                        <option>ENTEL</option>
                                        <option>MOVISTAR</option>
                                        <option>CLARO</option>
                                        <option>AZULITO</option>
                                    </select>

                                    <label for="movement">Tipo de movimiento</label>
                                    <select id="movement" required="required">
                                        <option value="">â€” Seleccione â€”</option>
                                        <option>DepÃ³sito</option>
                                        <option>Retiro</option>
                                        <option>Giro</option>
                                        <option>Pago</option>
                                        <option>Recarga</option>
                                    </select>

                                    <!-- Solicitante -->
                                    <div class="field-row">
                                        <label for="dniSolicitante">DNI del solicitante</label>
                                        <div class="input-action">
                                            <input id="dniSolicitante" type="text" inputmode="numeric"
                                                   maxlength="8" placeholder="Ej: 12345678"/>
                                            <button type="button" class="btn-icon dni-lookup"
                                                    data-target="dniSolicitante">ðŸ”Ž
                                            </button>
                                        </div>
                                    </div>

                                    <!-- Beneficiario -->
                                    <div class="field-row">
                                        <label for="dniBeneficiario">DNI del beneficiario</label>
                                        <div class="input-action">
                                            <input id="dniBeneficiario" type="text" inputmode="numeric"
                                                   maxlength="8" placeholder="Ej: 87654321"/>
                                            <button type="button" class="btn-icon dni-lookup"
                                                    data-target="dniBeneficiario">ðŸ”Ž
                                            </button>
                                        </div>
                                    </div>

                                    <label for="account">NÂ° cuenta / NÂ° celular</label>
                                    <input type="text" id="account" placeholder="Cuenta / Celular"/>

                                    <label for="description">DescripciÃ³n</label>
                                    <input list="descList" id="description"
                                           placeholder="Escribe y guarda; aprenderÃ¡ sugerencias"/>
                                    <datalist id="descList"></datalist>
                                    <small class="muted">Ej.: AVON, AZZORTI, SANTANDER, etc.</small>

                                    <div class="grid two tight">
                                        <div>
                                            <label for="amount">Monto (S/)</label>
                                            <input type="number" id="amount" min="0" step="1" placeholder="0"/>
                                        </div>
                                        <div>
                                            <label for="fee">ComisiÃ³n (S/)</label>
                                            <input type="number" id="fee" min="0" step="0.01"/>
                                            <small class="muted">Puedes editar para aplicar descuento.</small>
                                        </div>
                                    </div>

                                    <label for="total">Total (S/)</label>
                                    <input type="number" id="total" readonly="readonly"/>

                                    <div class="actions">
                                        <button class="btn" id="btnClear" type="reset">Limpiar</button>
                                        <button class="btn primary" id="btnSave" type="button">
                                            Guardar y generar boleta
                                        </button>
                                    </div>

                                </div>

                                <!-- DERECHA -->
                                <div class="col-right">

                                    <label for="agOperator">Operador</label>
                                    <input id="agOperator" type="text" readonly="readonly"/>

                                    <label for="opDate">Fecha</label>
                                    <input type="date" id="opDate"/>

                                    <label for="nomSolicitante">Apellidos y Nombres (auto)</label>
                                    <input id="nomSolicitante" type="text"
                                           placeholder="Se completa al escribir el DNI"/>

                                    <label for="nomBeneficiario">Apellidos y Nombres (auto)</label>
                                    <input id="nomBeneficiario" type="text"
                                           placeholder="Se completa al escribir el DNI"/>

                                </div>

                            </div>
                        </div>

                        <!-- Info comisiÃ³n -->
                        <div class="card minihelp">
                            <h3>Reglas de comisiÃ³n</h3>
                            <ul>
                                <li>â‰¤ S/ 100 â†’ S/ 1</li>
                                <li>â‰¤ S/ 200 â†’ S/ 2</li>
                                <li>â‰¤ S/ 300 â†’ S/ 3</li>
                                <li>â€¦ (S/ 1 por cada S/ 100)</li>
                            </ul>
                            <p class="muted">CÃ¡lculo automÃ¡tico mientras escribes.</p>
                        </div>
                    </main>

                    <!-- MIS RECIBOS -->
                    <main id="receiptsView" class="hidden">
                        <div class="card">
                            <div class="row between wrap">
                                <h2>Mis recibos</h2>
                                <div class="row gap">
                                    <label>Filtrar por fecha
                                        <input type="date" id="fltDate"/>
                                    </label>

                                    <label>Banco / Red
                                        <select id="fltBank">
                                            <option value="">Todos</option>
                                        </select>
                                    </label>

                                    <button class="btn" id="btnClearFilters">Limpiar filtros</button>
                                </div>
                            </div>

                            <div class="table-wrap">
                                <table id="tblReceipts">
                                    <thead>
                                    <tr>
                                        <th>Banco/Red</th>
                                        <th>Movimiento</th>
                                        <th>Solicitante</th>
                                        <th>Beneficiario</th>
                                        <th>Cuenta</th>
                                        <th>DescripciÃ³n</th>
                                        <th>Monto</th>
                                        <th>ComisiÃ³n</th>
                                        <th>Total</th>
                                        <th>Fecha</th>
                                        <th>Boleta</th>
                                        <th></th>
                                    </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>

                            <div class="row end">
                                <div class="card total">
                                    Total comisiones del dÃ­a:
                                    <strong>S/ <span id="sumFees">0</span></strong>
                                </div>
                            </div>
                        </div>
                    </main>

                </section>

                <!-- jsPDF desde CDN (solo para el PDF de la boleta).
                     Tu script.js se carga vÃ­a assets en el manifest. -->
                <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"/>
                <script>
                    window.jsPDF = window.jspdf.jsPDF;
                </script>

            </main>
        </xpath>
    </template>
</odoo>
