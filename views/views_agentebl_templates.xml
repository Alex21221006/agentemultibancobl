<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>

        <!-- Vista QWeb principal del Agente Multibanco B&L -->
        <record id="agente_bl_page" model="ir.ui.view">
            <field name="name">Agente Multibanco B&amp;L</field>
            <field name="type">qweb</field>
            <field name="key">moduloagentebl.agente_bl_page</field>

            <field name="arch" type="xml">
                <t t-name="moduloagentebl.agente_bl_page">
                    <t t-call="web.layout">

                        <t t-set="title">Agente Multibanco B&amp;L</t>

                        <main id="agente-multibanco-bl">

                            <!-- LOGIN -->
                            <section id="loginView" class="view center">
                                <div class="card login">
                                    <h1 class="brand">Agente B&amp;L</h1>
                                    <p class="muted">Acceso exclusivo del personal autorizado</p>

                                    <form id="loginForm">
                                        <label>Usuario
                                            <input type="text" id="lgUser" placeholder="ManuelBL" required="required"/>
                                        </label>

                                        <label>Contraseña
                                            <input type="password" id="lgPass" placeholder="12345678" required="required"/>
                                        </label>

                                        <div class="remember-row">
                                            <label class="check">
                                                <input type="checkbox" id="rememberUser"/> Recordar usuario
                                            </label>

                                            <label class="check">
                                                <input type="checkbox" id="rememberPass"/> Recordar contraseña
                                            </label>
                                        </div>

                                        <button class="btn primary" type="submit">Iniciar sesión</button>
                                    </form>

                                    <div class="admin-link" style="margin-top: 16px; text-align: center;">
                                        <a href="/web/login?redirect=/web"
                                           target="_blank"
                                           style="color:#00e0ff; text-decoration:underline; font-size:0.9rem;">
                                            ← Ingresar al panel Odoo (administrador)
                                        </a>
                                    </div>

                                </div>
                            </section>

                            <!-- PANEL PRINCIPAL -->
                            <section id="appView" class="view hidden">

                                <header class="topbar">
                                    <div class="left">
                                        <span class="logo">B&amp;L</span>
                                        <span class="title">Panel de Agente Multibanco</span>
                                    </div>
                                    <div class="right">
                                        <button id="btnAgent" class="chip active">Mi agente</button>
                                        <button id="btnReceipts" class="chip">Mis recibos</button>
                                        <div class="divider"></div>
                                        <button id="btnLogout" class="chip warn">Salir</button>
                                    </div>
                                </header>

                                <main id="agentView">
                                    <div class="card op-card">
                                        <h2>Operación</h2>

                                        <div class="grid two">

                                            <div class="col-left">

                                                <label>Banco / Red</label>
                                                <select id="bank">
                                                    <option value="">— Seleccione —</option>
                                                    <option>BCP</option>
                                                    <option>INTERBANK</option>
                                                    <option>BBVA</option>
                                                    <option>SCOTIABANK</option>
                                                    <option>CAJA AREQUIPA</option>
                                                    <option>CAJA CUSCO</option>
                                                    <option>BANCO DE LA NACION</option>
                                                    <option>YAPE</option>
                                                    <option>PLIN</option>
                                                    <option>BIM</option>
                                                    <option>KASNET</option>
                                                    <option>PAGAYA</option>
                                                    <option>BITEL</option>
                                                    <option>ENTEL</option>
                                                    <option>MOVISTAR</option>
                                                    <option>CLARO</option>
                                                    <option>AZULITO</option>
                                                </select>

                                                <label>Tipo de movimiento</label>
                                                <select id="movement">
                                                    <option value="">— Seleccione —</option>
                                                    <option>Depósito</option>
                                                    <option>Retiro</option>
                                                    <option>Giro</option>
                                                    <option>Pago</option>
                                                    <option>Recarga</option>
                                                </select>

                                                <label>DNI del solicitante</label>
                                                <input id="dniSolicitante" maxlength="8" />

                                                <label>DNI del beneficiario</label>
                                                <input id="dniBeneficiario" maxlength="8" />

                                                <label>Cuenta / Celular</label>
                                                <input id="account" />

                                                <label>Descripción</label>
                                                <input id="description" list="descList"/>
                                                <datalist id="descList"></datalist>

                                                <label>Monto (S/)</label>
                                                <input id="amount" type="number"/>

                                                <label>Comisión (S/)</label>
                                                <input id="fee" type="number"/>

                                                <label>Total (S/)</label>
                                                <input id="total" type="number" readonly="readonly"/>

                                                <div class="actions">
                                                    <button id="btnClear" class="btn">Limpiar</button>
                                                    <button id="btnSave" class="btn primary">Guardar</button>
                                                </div>

                                            </div>

                                            <div class="col-right">
                                                <label>Operador</label>
                                                <input id="agOperator" readonly="readonly"/>

                                                <label>Fecha</label>
                                                <input id="opDate" type="date"/>
                                            </div>

                                        </div>
                                    </div>

                                </main>

                                <main id="receiptsView" class="hidden">
                                    <div class="card">
                                        <h2>Mis recibos</h2>

                                        <table id="tblReceipts">
                                            <thead>
                                            <tr>
                                                <th>Banco</th>
                                                <th>Movimiento</th>
                                                <th>Solicitante</th>
                                                <th>Beneficiario</th>
                                                <th>Cuenta</th>
                                                <th>Monto</th>
                                                <th>Comisión</th>
                                                <th>Total</th>
                                                <th>Fecha</th>
                                                <th>Boleta</th>
                                            </tr>
                                            </thead>
                                            <tbody></tbody>
                                        </table>
                                    </div>
                                </main>

                            </section>

                            <!-- jsPDF -->
                            <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
                            <script>window.jsPDF = window.jspdf.jsPDF;</script>

                        </main>

                    </t>
                </t>
            </field>
        </record>

    </data>
</odoo>
